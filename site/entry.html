<!-- only showing the relevant bits -->
<div class="viewer-card">
  <iframe id="viewer-frame" src="about:blank" style="width:100%;height:640px;border:0;display:block;"></iframe>
</div>
<script>
  function getParam(n){ return new URL(location.href).searchParams.get(n); }
  (async () => {
    const uid = getParam('uid');
    const catalog = await fetch('../data/entries.json?v=debug1').then(r=>r.json());
    const entry = catalog.entries.find(e => e.uniprot_id === uid);
    const frame = document.getElementById('viewer-frame');
    const encodedUrl = encodeURIComponent(entry.files.structure_cif);
    frame.src = `viewer-frame.html?url=${encodedUrl}`;
  })();
</script>
